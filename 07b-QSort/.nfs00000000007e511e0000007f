import java.io.*;
import java.util.*;

public class Quicksort {
    
    public void swap(int[] a, int x, int y){
	int temp = a[x];
	a[x] = a[y];
	a[y] = temp;
    }

    public int partition(int[] a, int lower, int upper){
	int index = lower;
	int pivotIndex = 0;
	if (a.length == 1)
	    return 0;
	if (a[lower] >= a[upper] && a[lower] <= a[(lower+upper)/2])
	    pivotIndex = lower;
	else if (a[upper] >= a[lower] && a[upper] <= a[(lower+upper)/2])
	    pivotIndex = upper;
	else 
	    pivotIndex = (upper+lower)/2;
	int pivot = a[pivotIndex];
	swap(a, pivotIndex, upper);
	for (int i = lower; i < upper; i++){
	    if (a[i] <= pivot)
		swap(a, i, index++);
	}
	swap(a, lower, upper);
	return index;
    }
    
    public
     